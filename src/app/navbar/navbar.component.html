<div nz-row nzGutter="4" class="navbar">
  <div nz-col [nzSpan]="feedsSpan" >
    <div *ngIf="feedsVisible"> 
      <nz-button-group>
        <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Hide feeds" (click)="toggleFeeds()" nzPlacement="bottomLeft">
          <i nz-icon nzType="menu-fold" nzTheme="outline"></i>
        </button>
        <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Add feed" nzPlacement="bottomCenter" (click)="openDrawer()">
          <nz-drawer
            [nzClosable]="false"
            [nzHeight]="80"
            [nzVisible]="visible"
            nzPlacement="top"
            (nzOnClose)="closeDrawer()"
          >
            <form nz-form [nzLayout]="'inline'" (ngSubmit)="addNewFeed()">
                <nz-form-item>
                    <input type="text" nz-input [(ngModel)]="newFeedUrl" placeholder="Input RSS/Atom-feed link" [nzSize]="small" [ngModelOptions]="{standalone: true}"/>
                </nz-form-item>
                <nz-form-item>
                    <button nz-button [class.input-btn]="true">Add</button>
                </nz-form-item>
            </form>
          </nz-drawer>
          Feeds
          <i nz-icon nzType="plus-circle" nzTheme="outline"></i>
        </button>
        <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Manage feeds" nzPlacement="bottomRight" disabled>
          <i nz-icon nzType="setting" nzTheme="outline"></i>
        </button>
      </nz-button-group>
    </div>
    <div *ngIf="!feedsVisible">
      <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Show feeds" (click)="toggleFeeds()" nzPlacement="bottomLeft">
        <i nz-icon nzType="notification" nzTheme="outline"></i>
      </button>
    </div>
  </div>
  <div nz-col [nzSpan]="newsSpan" >
    <div *ngIf="newsVisible">
      <nz-button-group>
        <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Hide news" (click)="toggleNews()" nzPlacement="bottomLeft">
          <i nz-icon nzType="menu-fold" nzTheme="outline"></i>
        </button>
        <button nz-button
          [nzGhost]="true"
          nz-tooltip
          nzTitle="Update this feed news"
          nzPlacement="bottomCenter"
          [disabled]="isFetching"
          (click)="updateActiveFeed()"
        >
          News
          <i nz-icon nzType="sync" nzTheme="outline" [nzSpin]="isFetching"></i>
        </button>
        <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Mark all as read" (click)="readAll()" nzPlacement="bottomRight">
          <i nz-icon nzType="check-square" nzTheme="outline"></i>
        </button>
        <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Show only unread" (click)="toggleUnread()" nzPlacement="bottomRight">
          <i nz-icon [nzType]="showUnread ? 'eye-invisible' : 'eye'" [nzTheme]="'outline'"></i>
        </button>
      </nz-button-group>
    </div> 
    <div *ngIf="!newsVisible">
      <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Show news" (click)="toggleNews()" nzPlacement="bottomLeft">
        <i nz-icon nzType="global" nzTheme="outline"></i>
      </button>
    </div> 
  </div>
  <div nz-col [nzSpan]="descriptinSpan"  >
    <div>
      <div *ngIf="statisticsVisible" [class.statistics-buggon-group]="true">
        <nz-button-group>
          <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Show/hide chart" (click)="toggleChart()" nzPlacement="bottomLeft">
            <i nz-icon nzType="pie-chart" nzTheme="outline"></i>
          </button>
          <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Hide statistics" (click)="toggleStatistics()" nzPlacement="bottomRight">
            Statistics
            <i nz-icon nzType="menu-fold" nzTheme="outline" [class.flip]="true"></i>
          </button>
        </nz-button-group>
      </div>
      <div [class.app-buggon-group]="true">
        <nz-button-group>
          <button *ngIf="!statisticsVisible" nz-button [nzGhost]="true" nz-tooltip nzTitle="Show statistics" (click)="toggleStatistics()" nzPlacement="bottomLeft">
            <i nz-icon nzType="pie-chart" nzTheme="outline"></i>
          </button>
          <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Layout" nzPlacement="bottomLeft" disabled>
            <i nz-icon nzType="layout" nzTheme="outline"></i>
          </button>
          <button nz-button [nzGhost]="true" nz-tooltip nzTitle="Settings" nzPlacement="bottomRight" disabled>
            <i nz-icon nzType="setting" nzTheme="outline"></i>
          </button>
          <button nz-button
            [nzGhost]="true"
            nz-tooltip
            nzTitle="Update all feeds"
            nzPlacement="bottomRight"
            disabled
            (click)="updateAllFeeds()"
          >
            <i nz-icon nzType="sync" nzTheme="outline" [nzSpin]="isFetching"></i>
          </button>
        </nz-button-group>
      </div>
      <!-- <div style="display: inline;"></div> -->
    </div>
  </div>
</div>
